diff --git a/lib/nproc.c b/lib/nproc.c
index e899ff1..844c8cb 100644
--- a/lib/nproc.c
+++ b/lib/nproc.c
@@ -366,6 +366,10 @@ num_processors_available (enum nproc_query query)
   }
 #endif
 
+#if defined(__MVS__)
+  return __get_num_online_cpus();
+#endif
+
   return NPROC_MINIMUM;
 }
 
